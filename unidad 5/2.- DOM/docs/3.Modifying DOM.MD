# XSS Warning

**Warning!!!!!**  
Despite modern browsers protecting you from XSS (Cross-Site Scripting) and disabling script execution when inserted, **never insert HTML obtained from untrusted sources** like databases, forms, or user input without cleaning it first. This could lead to security risks on unprotected or old web browsers.

Here you can see three ways of preventing malicious scripts from executing
---

## Example 1: XSS Injection
```javascript
const codigoMaligno = prompt("dame el elemento a a√±adir");
//el usuario introduce por teclado <script>alert('te la he colado')</script>
document.body.insertAdjacentHTML('beforeend', codigoMaligno);
//script insertado en mi DOM
```

## Example 2: Cleaning a string
```javascript
function escaparHTML(cadena_sucia) {
    const parrafo = document.createElement('p');
    p.textContent = cadena_sucia;
    return parrafo.innerHTML;
}

const comentarioPeligroso = "<script>alert('XSS')</script>";
const comentarioSeguro = escaparHTML(comentarioPeligroso);   //se inserta dentro de un <p>, por lo que ya no se ejecuta.
const punto_insercion = document.querySelector("#insertar1");
punto_insercion.insertAdjacentHTML("beforebegin", comentarioSeguro); 
```

## Example 2: inserting a clean comment
```javascript
 const punto_insercion = document.querySelector("#insertar1");
 const comentarioPeligroso = "<script>alert('XSS')</script>"; // Contenido malicioso
 const textoNode = document.createTextNode(comentarioPeligroso); // Se convierte en texto plano, ya no hay peligro
 punto_insercion.appendChild(textoNode);
```

## Example 3: Inserting as clean text
```javascript
 const comentarioPeligroso = "<script>alert('XSS')</script>";
 const punto_insercion = document.querySelector("#insertar1");

// // Usando insertAdjacentText para insertar el comentario
 punto_insercion.insertAdjacentText("beforebegin", comentarioPeligroso);   //Se inserta como texto plano, por lo que no se ejecuta
```