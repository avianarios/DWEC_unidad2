<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regular expressions</title>
    <link rel="stylesheet" href="../css/3.-regular expressions.css" type="text/css">
    <link rel="stylesheet" href="../css/estilos.css" type="text/css">
    <script src="../js/3.-regular expressions.js" defer></script>
</head>
<body>
    <section class="contenedor-flex-columna gap">
        <h2>Do not trust user entries, they could lead to inserting malitious code. Therefore, ALWAYS validate data on server-side as well. Client-side validation is easy of overcome.</h2>
        <a href="https://developer.mozilla.org/es/docs/Learn/Server-side/First_steps/Website_security" target="_blank">Seguridad de sitios web</a>
        <a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/First_steps/Website_security" target="_blank">Website security</a>
        <header>
            <h2>Ways of validating form information</h2>
            <ul>
                <li>HTML5 built-in, more efficient yet less powerful and flexible</li>
                <li>JavaScript, with built-in browser constraint validation API. Less efficient yet more powerful and flexible</li>
                <li>JavaScript with field properties and regular expressions, NO built-in browser constraint API. Yet less efficient but much more powerful and flexible</li>
            </ul>
        </header>
        <article id="built-in-validation" class="contenedor-flex-columna gap borde jc-center">
            <header>
                <h3>HTML5 built-in validation</h3>
                <p>It utilizes a set of html properties</p>
                <ul>
                    <li>required</li>
                    <li>minlength and maxlength</li>
                    <li>min and max</li>
                    <li>pattern, where a regular expression can be set</li>
                </ul>
                <p>If an element is not valid, :invalid CSS pseudoclass can be used to apply style</p>
                <p>if an element is valid, :valid CSS pseudoclass can be used to apply style</p>
                <p>if an element is out of range, :out-of-range pseudoclass can be used to apply style</p>
                <p>web browser doesn't send the form until all fields are valid (and JavaScript is not blocking it)</p>
            </header>
            <form id="form1" class="contenedor-flex-columna">
                <fieldset>
                    <label for="nombre">Nombre</label>
                    <input type="text" name="nombre" placeholder="nombre" minlength="4" maxlength="15" required>
                </fieldset>
                <fieldset>
                    <label for="apellidos">Apellidos</label>
                    <input type="text" name="apellidos" placeholder="apellidos">
                </fieldset>
                <fieldset>
                    <label for="correo">Correo-e</label>
                    <input type="email" name="correo" placeholder="Correo electr贸nico" required pattern="[a-z0-9\-\.]+@[a-z0-9\-]+\.[a-z]{2,4}">
                </fieldset>
                <fieldset>
                    <label for="dni">DNI</label>
                    <input type="text" name="dni" required pattern="(([X-Z]{1}-?[0-9]{7})|([0-9]{8}))[A-Z]{1}" placeholder="DNI"/>
                </fieldset>
                <fieldset>
                    <label for="dni">Edad</label>
                    <input type="number" name="edad" min="18" max="100" placeholder="min 18, max 100"/>
                </fieldset>
                <fieldset>
                    <input type="checkbox" checked name="first" value="first"> <label for="first">First option</label>
                    <input type="checkbox" name="second" value="second"> <label for="second">Second option</label>
                    <input type="checkbox" name="third" value="third" disabled> <label for="third">Third option</label>
                </fieldset>
                <button id="enviar">Enviar</button>
              </form>
        </article>

        <article id="API-constraint-validation" class="contenedor-flex-columna gap borde jc-center">
            <header>
                <h3>Built-in browser JavaScript constraint validation API</h3>
                <p>useful when dealing with browsers that doesn't support native HTML5 validation or when wanting to override error messages or perform any kind of operation</p>
                <p>Constraint validation API makes the following methods and properties available on the previous elements:</p>
                <ul>
                    <li>validationMessage-> Returns a localized message describing the validation constraints that the control doesn't satisfy</li>
                    <li>validity-> returns a validityState object with several properties describing the valid state of an element
                        <ul>
                            <li>patternMismatch-> true if the value does not match the specified pattern</li>
                            <li>tooLong-> true if the value is larger than maxlength attribute</li>
                            <li>tooShort-> true if the value is shorter than minlength attribute</li>
                            <li>rangeOverflow-> true if the value is greater than max attribute</li>
                            <li>rangeUnderflow-> true if the value is less than min attribute</li>
                            <li>typeMismatch-> true if the value is note the required syntax (email and url)</li>
                            <li>valid-> true if the eleemnt meet all its validation constraints</li>
                            <li>valueMissing-> true if the element is required, but no value is provided</li>
                        </ul>
                    </li>
                </ul>
            </header>            
            <form id="form2" class="contenedor-flex-columna">
                <fieldset>
                    <label for="correo">Correo-e</label>
                    <input type="email" name="correo" placeholder="Correo electr贸nico">
                </fieldset>
                <button id="enviar">Enviar</button>
              </form>
        </article>

        <article id="API-constraint-validation-custom-msg" class="contenedor-flex-columna gap borde jc-center">
            <h3>Built-in browser JavaScript constraint validation API with personalized error messages</h3>
            <p>novalidate form property removes web browser automatic validation while keeping constraint validation API or CSS pseudoclases. It just prevents the browser to automatically validates a form</p>
            <p>this way, we can validate forms and provide with our own error messages</p>
            <form id="form3" class="contenedor-flex-columna" novalidate>
                <fieldset>
                    <label for="correo">Correo-e</label>
                    <input type="email" name="correo" placeholder="Correo electr贸nico">
                    <p class="error"></p>
                </fieldset>
                <button id="enviar">Enviar</button>
            </form>
        </article>

        <article id="no-constraint-API" class="contenedor-flex-columna gap borde jc-center">
            <h3>No constraint validation API</h3>
            <form id="form4" class="contenedor-flex-columna" novalidate>
                <fieldset>
                    <label for="correo">Correo-e</label>
                    <input type="email" name="correo" placeholder="Correo electr贸nico">
                    <p class="error"></p>
                </fieldset>
                <button id="enviar">Enviar</button>
            </form>
        </article>

      </section>
</body>
</html>